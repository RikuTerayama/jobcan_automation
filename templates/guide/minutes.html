<!DOCTYPE html>
<html lang="ja">
<head>
    {% set page_title = '議事録整形ツールガイド | Automation Hub' %}
    {% include 'includes/head_meta.html' %}
    {% block description_meta %}
        <meta name="description" content="議事録整形ツールの使い方ガイド。テキストから決定事項/ToDo/担当/期限を抽出し、報告書テンプレートを生成する方法を詳しく解説。">
    {% endblock %}
    <style>
        body { font-family: 'Noto Sans JP', 'Helvetica Neue', 'Segoe UI', sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #121212 0%, #1A1A1A 50%, #0F0F0F 100%); min-height: 100vh; color: #FFFFFF; line-height: 1.8; }
        .container { max-width: 1000px; margin: 0 auto; background: linear-gradient(145deg, #1E1E1E 0%, #2A2A2A 100%); border-radius: 20px; padding: 50px; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5); }
        h1 { font-size: 2.5em; margin-bottom: 30px; color: #FFFFFF; }
        h2 { font-size: 1.8em; margin-top: 40px; margin-bottom: 20px; color: #FFFFFF; border-bottom: 2px solid rgba(255, 255, 255, 0.2); padding-bottom: 10px; }
        h3 { font-size: 1.4em; margin-top: 30px; margin-bottom: 15px; color: #4A9EFF; }
        p, li { color: rgba(255, 255, 255, 0.9); margin-bottom: 15px; font-size: 1.05em; }
        ul, ol { padding-left: 30px; }
        .step-box { background: rgba(74, 158, 255, 0.1); border-left: 4px solid #4A9EFF; padding: 25px; margin: 30px 0; border-radius: 8px; }
        .step-box h3 { margin-top: 0; }
        .info-box { background: rgba(40, 167, 69, 0.1); border-left: 4px solid #28A745; padding: 20px; margin: 25px 0; border-radius: 8px; }
        .warning-box { background: rgba(220, 53, 69, 0.1); border-left: 4px solid #DC3545; padding: 20px; margin: 25px 0; border-radius: 8px; }
        .tip-box { background: rgba(255, 193, 7, 0.1); border-left: 4px solid #FFC107; padding: 20px; margin: 25px 0; border-radius: 8px; }
        .nav-links { display: flex; gap: 20px; margin-top: 40px; padding-top: 30px; border-top: 1px solid rgba(255, 255, 255, 0.2); flex-wrap: wrap; }
        .nav-link { display: inline-block; padding: 15px 30px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 10px; color: #FFFFFF; text-decoration: none; transition: all 0.3s; }
        .nav-link:hover { background: rgba(255, 255, 255, 0.2); transform: translateY(-2px); }
        a { color: #4A9EFF; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    {% include 'includes/header.html' %}
    {% include 'includes/breadcrumb.html' %}
    <div class="container">
        <h1>📝 議事録整形ツールガイド</h1>
        <p><strong>できること:</strong> 文字起こしテキストから決定事項・ToDo・担当・期限を抽出し、構造化議事録（Markdown/CSV/JSON）を生成。すべてブラウザ内で完結し、テキストはサーバーに送信されません。</p>
        <p><strong>想定ユーザー:</strong> PM、事務、営業、マネージャーなど、会議メモの整形や報告書テンプレート出力が必要な方。</p>

        <h2>このツールで解決できる課題</h2>
        <ul>
            <li>議事録を構造化された形式に整形したい</li>
            <li>決定事項やToDoを自動で抽出したい</li>
            <li>報告書テンプレートを自動生成したい</li>
            <li>ToDoリストをCSV/JSONで出力したい</li>
        </ul>

        <h2>主要機能</h2>
        <ul>
            <li><strong>決定事項抽出</strong>: 「決定:」「決定事項:」などのキーワードから抽出</li>
            <li><strong>ToDo抽出</strong>: 「TODO:」「ToDo:」「タスク:」などのキーワードから抽出</li>
            <li><strong>担当者抽出</strong>: 「担当:」「担当者:」などのキーワードから抽出</li>
            <li><strong>期限抽出</strong>: 日付形式（YYYY/MM/DD等）から抽出</li>
            <li><strong>テンプレート生成</strong>: 議事録形式、報告書形式など</li>
            <li><strong>CSV/JSON出力</strong>: 抽出データを構造化形式で出力</li>
        </ul>

        <h2>使い方の流れ（4ステップ）</h2>
        <div class="step-box">
            <h3>ステップ1: テキストを入力</h3>
            <p><a href="/tools/minutes">議事録整形ツール</a>にアクセスし、議事録のテキストを入力エリアに貼り付けます。</p>
        </div>
        <div class="step-box">
            <h3>ステップ2: メタ情報を設定（任意）</h3>
            <p>会議名、日付、参加者などのメタ情報を入力します（任意）。</p>
        </div>
        <div class="step-box">
            <h3>ステップ3: 抽出と整形を実行</h3>
            <p>「抽出・整形を開始」ボタンをクリックすると、決定事項、ToDo、担当者、期限が自動抽出され、選択したテンプレート形式で整形されます。</p>
        </div>
        <div class="step-box">
            <h3>ステップ4: 結果をコピーまたはダウンロード</h3>
            <p>整形された議事録をクリップボードにコピーするか、Markdown/CSV/JSON形式でダウンロードします。</p>
        </div>

        <h2>入出力仕様</h2>
        <h3>入力形式</h3>
        <ul>
            <li>プレーンテキスト（直接入力または貼り付け）</li>
            <li>テキストファイル（.txt）</li>
        </ul>
        <h3>出力形式</h3>
        <ul>
            <li>Markdown（.md）</li>
            <li>CSV（.csv）</li>
            <li>JSON（.json）</li>
        </ul>
        <h3>制限事項（実装に基づく）</h3>
        <ul>
            <li><strong>テキスト長</strong>: 最大20万文字（<code>templates/tools/minutes.html</code> の MAX_TEXT_LENGTH）。超えた分は先頭から20万文字のみ処理されます。</li>
            <li>抽出はルールベースのため、キーワードや形式が不規則な場合は抽出されないことがあります。</li>
        </ul>

        <div class="tip-box">
            <strong>💡 抽出精度を上げるコツ</strong>
            <ul style="margin-top: 10px;">
                <li>「決定:」「TODO:」「担当:」などのキーワードを明確に記載する</li>
                <li>日付は「YYYY/MM/DD」形式で記載する</li>
                <li>1行に1つの項目を記載する</li>
            </ul>
        </div>

        <h2 id="data-handling">データの取り扱い</h2>
        <p>当ツールでは、議事録テキストのアップロード・サーバー保存は行いません。</p>
        <ul>
            <li><strong>サーバー送信</strong>: 行いません。処理はすべてブラウザ内で完結します。根拠: <code>app.py</code> の <code>/api/minutes/format</code> は現時点で 501 Not Implemented を返すのみで、テキストを受け取る実装がありません（<code>app.py</code> 799–802行）。抽出・整形は <code>templates/tools/minutes.html</code> 内のJavaScriptで実行されています。</li>
            <li><strong>ログ・保存</strong>: 当サーバーに議事録内容を保存する処理はありません。</li>
        </ul>
        <p>詳細は<a href="/privacy">プライバシーポリシー</a>をご確認ください。</p>

        <h2 id="faq">よくある質問（FAQ）</h2>
        {% set faq_list = [
            {"q": "議事録整形ツールでテキストがサーバーに送信されますか？", "a": "いいえ。すべてブラウザ内で処理され、議事録テキストはサーバーに送信されません。app.py の /api/minutes/format は 501 を返すのみで、実装はクライアント側です。"},
            {"q": "決定事項を自動抽出できますか？", "a": "はい。「決定:」「決定事項:」などのキーワードを含む行をルールベースで抽出します。形式が揃っていると精度が上がります。"},
            {"q": "ToDoをCSV/JSONで出力できますか？", "a": "はい。ToDo抽出後、出力形式でMarkdown/CSV/JSONを選べます。CSV/JSONでは担当・期限も含めて出力できます。"},
            {"q": "テキストの長さ制限はありますか？", "a": "最大20万文字までです。それを超えると先頭から20万文字のみ処理され、警告が表示されます（templates/tools/minutes.html の MAX_TEXT_LENGTH）。"},
            {"q": "日付が抽出されません。", "a": "YYYY/MM/DD 形式で記載してください。「2025年1月1日」など他形式は認識されない場合があります。"},
            {"q": "話者ラベル（Speaker1: など）は残せますか？", "a": "テンプレートによっては話者ラベルを維持するオプションがあります。設定で「話者ラベルを除去」のオン/オフを選べます。"},
            {"q": "複数テンプレートに対応していますか？", "a": "はい。議事録形式・報告書形式など複数のテンプレートから選択できます。出力形式は .md / .txt / .csv / .json から選べます。"},
            {"q": "ファイルでテキストを読み込めますか？", "a": "はい。.txt ファイルを選択して読み込めます。ファイルサイズが20万文字を超える場合は先頭から20万文字が使われます。"}
        ] %}
        <div class="faq-list">
            {% for item in faq_list %}
            <div class="faq-item" style="margin-bottom: 24px;">
                <h3 style="font-size: 1.1em; margin-bottom: 8px;">Q. {{ item.q }}</h3>
                <p style="margin: 0; padding-left: 1em;">A. {{ item.a }}</p>
            </div>
            {% endfor %}
        </div>

        <h2>トラブルシューティング</h2>
        <ul>
            <li><strong>決定事項が1件も抽出されない</strong>: 「決定:」「決定事項:」などのキーワードが含まれているか確認してください。表記を揃えると認識されやすくなります。</li>
            <li><strong>「テキストが長すぎます」と表示される</strong>: 20万文字を超えています。重要な部分だけをコピーするか、複数回に分けて処理してください。</li>
            <li><strong>日付が「期限」に反映されない</strong>: YYYY/MM/DD 形式で記載されているか確認してください。同じ行や次の行に担当・期限を書くと抽出されやすくなります。</li>
            <li><strong>ダウンロードが空になる</strong>: 抽出結果が0件の可能性があります。キーワードを入れたうえで「抽出・整形を開始」を再度実行してください。</li>
            <li><strong>CSVの文字化け</strong>: UTF-8でダウンロードされています。Excelで開く場合は「データ」→「テキストから」でUTF-8を指定して読み込んでください。</li>
        </ul>

        {% set tool_path = '/tools/minutes' %}
        {% set tool_name = '議事録整形ツール' %}
        {% include 'guide/_partials/guide_related_links.html' %}

        <div class="nav-links">
            <a href="/tools/minutes" class="nav-link">← 議事録整形ツールに戻る</a>
            <a href="/tools" class="nav-link">← ツール一覧へ</a>
            <a href="/guide/seo" class="nav-link">次のガイド: Web/SEOユーティリティ →</a>
        </div>
    </div>
    {% include 'guide/_partials/guide_faq_jsonld.html' %}
    {% include 'includes/footer.html' %}
</body>
</html>
